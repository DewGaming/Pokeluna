@using System.Security.Claims
@{
    string dropdownWidth, generalColumnWidth, ownerColumnWidth;
    if (this.User.IsInRole("Owner"))
    {
        dropdownWidth = "37rem";
        generalColumnWidth = "40%";
        ownerColumnWidth = "30%";
    }
    else
    {
        dropdownWidth = "13rem";
        generalColumnWidth = "100%";
        ownerColumnWidth = "";
    }
}

@if (this.User.Identity.IsAuthenticated)
{
    <li class="nav-item dropdown accountDropdown">
        <a class="nav-link dropdown-toggle" href="" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Account</a>
        <div class="dropdown-menu" style="width: @dropdownWidth" aria-labelledby="userDropdown">
            <div class="column" style="width: @generalColumnWidth">
                <span class="accountOptionHeader">General Options</span>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="@this.Url.Action("PokemonTeams", "User")">Pokémon Teams</a>
                @if (this.User.IsInRole("Admin"))
                {
                    <a class="dropdown-item" href="@this.Url.Action("ShinyHunts", "User")">Shiny Hunts</a>
                    <a class="dropdown-item" href="@this.Url.Action("ShinyDexProgress", "ShinyHunt")">Shiny Dex Completion</a>
                }
                @if (this.User.IsInRole("Owner"))
                {
                    <div class="dropdown-divider"></div>
                    <span class="accountOptionHeader">Admin Options</span>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="@this.Url.Action("Users", "Owner")">Users</a>
                    <a class="dropdown-item" href="@this.Url.Action("Comments", "Owner")">Comments</a>
                    <a class="dropdown-item" href="@this.Url.Action("PageStats", "Owner")">View Page Stats</a>
                    <a class="dropdown-item" href="@this.Url.Action("PokemonPageStats", "Owner")">View Pokémon Page Stats</a>
                }
                <div class="dropdown-divider"></div>
                <span class="accountOptionHeader">Account Options</span>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item messages" href="@this.Url.Action("ViewMessages", "User")">View Messages</a>
                <a class="dropdown-item" href="@this.Url.Action("EditPassword", "User")">Change Password</a>
                <a class="dropdown-item" href="@this.Url.Action("Logout", "Account")">Logout</a>
            </div>
            @if (this.User.IsInRole("Owner"))
            {
                <span class="accountOptionHeader">Edit Tables</span>
                <div class="dropdown-divider"></div>
                <div class="column" style="width: @ownerColumnWidth">
                    <a class="dropdown-item" href="@this.Url.Action("Abilities", "Owner")">Abilities</a>
                    <a class="dropdown-item" href="@this.Url.Action("BaseHappinesses", "Owner")">Base Happiness</a>
                    <a class="dropdown-item" href="@this.Url.Action("BattleItems", "Owner")">Battle Items</a>
                    <a class="dropdown-item" href="@this.Url.Action("CaptureRates", "Owner")">Capture Rates</a>
                    <a class="dropdown-item" href="@this.Url.Action("Classifications", "Owner")">Classifications</a>
                    <a class="dropdown-item" href="@this.Url.Action("EggCycles", "Owner")">Egg Cycles</a>
                    <a class="dropdown-item" href="@this.Url.Action("EggGroups", "Owner")">Egg Groups</a>
                    <a class="dropdown-item" href="@this.Url.Action("ExperienceGrowths", "Owner")">Experience Growths</a>
                    <a class="dropdown-item" href="@this.Url.Action("EvolutionMethods", "Owner")">Evolution Methods</a>
                    <a class="dropdown-item" href="@this.Url.Action("Forms", "Owner")">Forms</a>
                    <a class="dropdown-item" href="@this.Url.Action("FormItems", "Owner")">Form Items</a>
                    <a class="dropdown-item" href="@this.Url.Action("FormGroups", "Owner")">Form Groups</a>
                </div>
                <div class="column" style="width: @ownerColumnWidth">
                    <a class="dropdown-item" href="@this.Url.Action("Games", "Owner")">Games</a>
                    <a class="dropdown-item" href="@this.Url.Action("GenderRatios", "Owner")">Gender Ratios</a>
                    <a class="dropdown-item" href="@this.Url.Action("Generations", "Owner")">Generations</a>
                    <a class="dropdown-item" href="@this.Url.Action("HuntingMethods", "Owner")">Hunting Methods</a>
                    <a class="dropdown-item" href="@this.Url.Action("LegendaryTypes", "Owner")">Legendary Types</a>
                    <a class="dropdown-item" href="@this.Url.Action("Natures", "Owner")">Natures</a>
                    <a class="dropdown-item" href="@this.Url.Action("Marks", "Owner")">Marks</a>
                    <a class="dropdown-item" href="@this.Url.Action("Pokeballs", "Owner")">Pokeballs</a>
                    <a class="dropdown-item" href="@this.Url.Action("Pokemon", "Owner")">Pokémon</a>
                    <a class="dropdown-item" href="@this.Url.Action("Regions", "Owner")">Regions</a>
                    <a class="dropdown-item" href="@this.Url.Action("Types", "Owner")">Types</a>
                </div>
            }
        </div>
    </li>
}
else
{
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="" id="loginDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Login</a>
        <div class="dropdown-menu" aria-labelledby="loginDropdown">
            <a class="dropdown-item" href="@this.Url.Action("Login", "Account")">Login</a>
            <a class="dropdown-item" href="@this.Url.Action("Register", "Account")">Sign Up</a>
        </div>
    </li>
}