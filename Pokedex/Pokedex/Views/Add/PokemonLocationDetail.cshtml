@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@model Pokedex.Models.PokemonLocationDetailViewModel
@{
    Layout = "_layout";
}

@section styles
{
    <style>
        label {
            margin-left: -15px;
        }

        .row {
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
    </style>
}

@section scripts
{
    <script>
        $('#minLevelVal').text($('.minLevelSlider').val());
        $('#maxLevelVal').text($('.maxLevelSlider').val());
        $('#chanceOfEncounterVal').text($('.chanceOfEncounterSlider').val() + '%');

        $('.minLevelSlider').on('input', function () {
            $('#minLevelVal').text($(this).val());
        });
        $('.maxLevelSlider').on('input', function () {
            $('#maxLevelVal').text($(this).val());
        });
        $('.chanceOfEncounterSlider').on('input', function () {
            $('#chanceOfEncounterVal').text($(this).val() + '%');
        });
    </script>
}

<h2>Add Pokemon Availability</h2>

<div class="form-horizontal">

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        
        @Html.ValidationSummary()

        @Html.HiddenFor(x => x.LocationId)

        <div class="form-group row">
            <div class="form-group row col-md-4">
                @Html.LabelFor(x => x.PokemonId, new { @class = "col-md-8" })
                @Html.DropDownListFor(x => x.PokemonId, new SelectList(Model.AllPokemon, "Id", "Name"), "", new { @class = "form-control col-md-11" })
                @Html.ValidationMessageFor(x => x.PokemonId)
            </div>

            <div class="minimumLevelBar form-group row col-md-4">
                <label for="MinimumLevel" class="col-md-8">Minimum Level: <span id="minLevelVal"></span></label>
                <input class="minLevelSlider slider col-md-11" data-val-required="The Minimum Level field is required." id="MinimumLevel" name="MinimumLevel" type="range" min="1" max="100" value="100">
            </div>

            <div class="maximumLevelBar form-group row col-md-4">
                <label for="MaximumLevel" class="col-md-8">Maximum Level: <span id="maxLevelVal"></span></label>
                <input class="maxLevelSlider slider col-md-11" data-val-required="The Health field is required." id="MaximumLevel" name="MaximumLevel" type="range" min="1" max="100" value="100">
            </div>
        </div>

        <div class="form-group row">
            <div class="form-group row col-md-4">
                @Html.LabelFor(x => x.CaptureMethodId, new { @class = "col-md-8" })
                @Html.DropDownListFor(x => x.CaptureMethodId, new SelectList(Model.AllCaptureMethods, "Id", "Name"), "", new { @class = "form-control col-md-11" })
                @Html.ValidationMessageFor(x => x.CaptureMethodId)
            </div>

            <div class="chanceOfEncounterBar form-group row col-md-4">
                <label for="ChanceOfEncounter" class="col-md-8">Chance of Encounter: <span id="chanceOfEncounterVal"></span></label>
                <input class="chanceOfEncounterSlider slider col-md-11" data-val-required="The Health field is required." id="ChanceOfEncounter" name="ChanceOfEncounter" type="range" min="1" max="100" value="100">
            </div>

            <div class="form-group row col-md-4">
                @Html.LabelFor(x => x.SOSBattleOnly, new { @class = "col-md-12" })
                @Html.CheckBoxFor(x => x.SOSBattleOnly, new { @class = "form-control col-md-9" })
                @Html.ValidationMessageFor(x => x.SOSBattleOnly)
            </div>
        </div>

        <p>
            <button type="submit" class="btn btn-primary" role="button">Add</button>
        </p>
    }

</div>